---
title: Release OpenOCL v4.00
categories: releases
last_modified_at: 2019-04-10
permalink: /:categories/:title/
---

We release OpenOCL 4.00 which from now on only support one way to define a dynamical system and optimal control problem. The old style of inheriting from OclSystem and OclOCP is not supported anymore.
The examples and documentation was updated accordingly. You now define a System as e.g. 
```
system = OclSystem(@varsfun, @eqfun);
```

you can also use a keyword/named parameter list (in arbitrary order) like:
```
system = OclSystem('varsfun', @varsfun, 'eqfun', @eqfun);
```

The same holds for creating optimal control problems e.g.
```
ocp = OclOCP('arrivalcosts', @arrivalcosts, 'pathconstraints', @pathconstraints);
```

with the system and optimal control problem functions defined as e.g.
```
function varsfun(self)
  self.addState('p'); 
  self.addState('v');
  self.addControl('u');
  self.addParameter('m');
  self.addParameter('Vmax');
end

function eqfun(sh,x,z,u,p)
  sh.setODE('p', x.v);
  sh.setODE('v', 1/p.m*u);
end

function pathconstraints(ch,x,p)
  ch.add(norm(x.v), '<=', p.Vmax);
end

function arrivalcosts(ch,x,p)
  ch.add(p.T);
end

```
